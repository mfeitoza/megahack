# Migration `20200704174250-add-supplier-attr`

This migration has been generated by Marcus Feitoza at 7/4/2020, 5:42:50 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
PRAGMA foreign_keys=OFF;

CREATE TABLE "quaint"."new_Company" (
"address" TEXT NOT NULL  ,"city" TEXT NOT NULL  ,"company" TEXT NOT NULL  ,"id" TEXT NOT NULL  ,"isSupplier" BOOLEAN NOT NULL DEFAULT false ,"state" TEXT NOT NULL  ,"userId" TEXT NOT NULL  ,"zipCode" TEXT NOT NULL  ,
    PRIMARY KEY ("id"),FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE CASCADE ON UPDATE CASCADE)

INSERT INTO "quaint"."new_Company" ("address", "city", "company", "id", "state", "userId", "zipCode") SELECT "address", "city", "company", "id", "state", "userId", "zipCode" FROM "quaint"."Company"

PRAGMA foreign_keys=off;
DROP TABLE "quaint"."Company";;
PRAGMA foreign_keys=on

ALTER TABLE "quaint"."new_Company" RENAME TO "Company";

CREATE UNIQUE INDEX "quaint"."Company_userId" ON "Company"("userId")

PRAGMA "quaint".foreign_key_check;

PRAGMA foreign_keys=ON;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200704164436-five..20200704174250-add-supplier-attr
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource DS {
   provider = "sqlite"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider      = "prisma-client-js"
@@ -20,18 +20,19 @@
   request Request[]
 }
 model Company {
-  id       String     @id @default(cuid())
-  company  String
-  zipCode  String
-  address  String
-  state    String
-  city     String
-  user     User       @relation(fields: [userId], references: [id])
-  userId   String
-  request  Request[]
-  response Response[]
+  id         String     @id @default(cuid())
+  company    String
+  isSupplier Boolean    @default(false)
+  zipCode    String
+  address    String
+  state      String
+  city       String
+  user       User       @relation(fields: [userId], references: [id])
+  userId     String
+  request    Request[]
+  response   Response[]
 }
 model Tag {
   name     String    @id
```


